---
import { trans } from "@core/Translator";
import projects from "@data/projects.json";

const locale = Astro.currentLocale || "en";
---

<section class="my-20 flex w-full flex-col gap-8" data-aos="fade-in">
	<div class="flex items-center gap-4">
		<h2 class="text-xl font-black tracking-widest uppercase">&gt; {trans("showcase.title", {}, locale)}</h2>
		<div class="bg-border/20 h-px flex-1"></div>
	</div>

	<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
		{
			projects.slice(0, 3).map((project, index) => (
				<div
					class="tui-window group flex flex-col transition-all duration-300 hover:scale-[1.02]"
					data-aos="fade-up"
					data-aos-delay={index * 100}
				>
					<div class="tui-window-header">
						<span>PRJ_{String(index + 1).padStart(3, "0")}</span>
						<span class="icon-[tabler--external-link] size-3 opacity-20" />
					</div>

					<div class="border-border/10 relative aspect-video overflow-hidden border-b grayscale transition-all duration-500 group-hover:grayscale-0">
						<img
							src={project.image}
							alt={project.title}
							class="h-full w-full object-cover"
							loading="lazy"
						/>
					</div>

					<div class="flex flex-1 flex-col gap-4 p-5">
						<div class="flex flex-wrap gap-1">
							{project.tags.map((tag) => (
								<span class="border-border/20 border px-1 text-[8px] font-bold uppercase opacity-60">
									{tag}
								</span>
							))}
						</div>

						<h3 class="decoration-accent font-bold uppercase decoration-2 underline-offset-4 group-hover:underline">
							{project.title}
						</h3>

						<p class="text-content/60 flex-1 text-xs leading-relaxed">{project.description}</p>

						<a
							href={project.link}
							target="_blank"
							class="tui-btn-secondary tui-btn-sm mt-4 flex items-center justify-between"
						>
							<span>{trans("showcase.view_project", {}, locale)}</span>
							<span class="icon-[tabler--arrow-up-right] size-3" />
						</a>
					</div>
				</div>
			))
		}
	</div>
</section>
