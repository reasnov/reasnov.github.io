---
import AppLayout from "@layouts/AppLayout.astro";
import { trans } from "@core/Translator";
import projects from "@data/projects.json";

export function getStaticPaths() {
	return [{ params: { locale: "en" } }, { params: { locale: "id" } }];
}

const locale = Astro.currentLocale || "en";
---

<AppLayout title={trans("pages.showcase.title", {}, locale)}>
	<section class="my-10 flex flex-col gap-12" data-aos="fade-in">
		<!-- Breadcrumb / Directory Style Header -->
		<div class="flex flex-col gap-2">
			<div class="flex items-center gap-2 text-[10px] font-bold tracking-widest text-content/40 uppercase">
				<span>ROOT</span>
				<span>/</span>
				<span>PROJECTS</span>
				<span>/</span>
				<span class="text-content underline">{locale.toUpperCase()}</span>
			</div>
			<div class="mt-4 flex flex-col gap-4 border-l-4 border-border pl-6">
				<h1 class="leading-none font-black tracking-tighter uppercase">
					{trans("pages.showcase.title", {}, locale)}
				</h1>
				<p class="text-xs font-bold tracking-widest text-content/40 uppercase md:text-sm">
					// {trans("pages.showcase.subtitle", {}, locale)}
				</p>
			</div>
		</div>

		<!-- Terminal Grid -->
		<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
			{
				projects.map((project, index) => (
					<div
						class="tui-window group flex flex-col transition-all duration-300 hover:scale-[1.02]"
						data-aos="fade-up"
						data-aos-delay={index * 100}
					>
						<div class="tui-window-header">
							<span>PRJ_{String(index + 1).padStart(3, "0")}</span>
							<span class="icon-[tabler--external-link] size-3 opacity-20" />
						</div>

						<div class="border-border/10 relative aspect-video overflow-hidden border-b grayscale transition-all duration-500 group-hover:grayscale-0">
							<img
								src={project.image}
								alt={project.title}
								class="h-full w-full object-cover"
								loading="lazy"
							/>
						</div>

						<div class="flex flex-1 flex-col gap-4 p-5">
							<div class="flex flex-wrap gap-1">
								{project.tags.map((tag) => (
									<span class="border-border/20 border px-1 text-[8px] font-bold uppercase opacity-60">
										{tag}
									</span>
								))}
							</div>

							<h3 class="decoration-accent font-bold uppercase decoration-2 underline-offset-4 group-hover:underline">
								{project.title}
							</h3>

							<p class="text-content/60 flex-1 text-xs leading-relaxed">{project.description}</p>

							<a
								href={project.link}
								target="_blank"
								class="tui-btn-secondary tui-btn-sm mt-4 flex items-center justify-between"
							>
								<span>{trans("showcase.view_project", {}, locale)}</span>
								<span class="icon-[tabler--arrow-up-right] size-3" />
							</a>
						</div>
					</div>
				))
			}
		</div>

		<!-- Bottom Command Hint -->
		<div
			class="flex items-center justify-between border-t border-neutral-200 pt-4 text-[10px] font-bold tracking-widest text-neutral-500 uppercase dark:border-neutral-800"
		>
			<span>[F3] HELP</span>
			<span>TOTAL_ITEMS: {projects.length}</span>
			<span>STATUS: OK</span>
		</div>
	</section>
</AppLayout>
