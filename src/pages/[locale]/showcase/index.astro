---
import AppLayout from "@layouts/AppLayout.astro";
import { trans } from "@core/Translator";
import projects from "@data/projects.json";

export function getStaticPaths() {
	return [{ params: { locale: "en" } }, { params: { locale: "id" } }];
}

const locale = Astro.currentLocale || "en";
---

<AppLayout title={trans("pages.showcase.title", {}, locale)}>
	<section class="my-10 flex flex-col gap-12" data-aos="fade-in">
		<!-- Breadcrumb / Directory Style Header -->
		<div class="flex flex-col gap-2">
			<div class="flex items-center gap-2 text-[10px] font-bold tracking-widest text-neutral-500 uppercase">
				<span>ROOT</span>
				<span>/</span>
				<span>PROJECTS</span>
				<span>/</span>
				<span class="text-black underline dark:text-white">{locale.toUpperCase()}</span>
			</div>
			<div class="mt-4 flex flex-col gap-4 border-l-4 border-black pl-6 dark:border-white">
				<h1 class="text-4xl leading-none font-black tracking-tighter uppercase md:text-6xl">
					{trans("pages.showcase.title", {}, locale)}
				</h1>
				<p class="text-xs font-bold tracking-widest text-neutral-500 uppercase md:text-sm">
					// {trans("pages.showcase.subtitle", {}, locale)}
				</p>
			</div>
		</div>

		<!-- Terminal Grid -->
		<div class="grid grid-cols-1 gap-0 border-2 border-black md:grid-cols-2 lg:grid-cols-3 dark:border-white">
			{
				projects.map((project, index) => (
					<div
						class="group flex flex-col border-black transition-all duration-300 dark:border-white [&:not(:last-child)]:border-b md:[&:not(:nth-child(2n))]:border-r lg:[&:not(:nth-child(3n))]:border-r"
						data-aos="fade-up"
						data-aos-delay={index * 100}
					>
						<div class="relative aspect-video overflow-hidden border-b border-black grayscale transition-all duration-500 group-hover:invert dark:border-white">
							<img
								src={project.image}
								alt={project.title}
								class="h-full w-full object-cover"
								loading="lazy"
							/>
							<div class="absolute top-2 left-2 border border-white/20 bg-black px-2 py-0.5 text-[8px] font-bold tracking-widest text-white uppercase">
								PRJ_{String(index + 1).padStart(3, "0")}
							</div>
						</div>

						<div class="flex flex-1 flex-col gap-4 bg-white p-6 transition-colors group-hover:bg-black group-hover:text-white dark:bg-black dark:group-hover:bg-white dark:group-hover:text-black">
							<div class="flex flex-wrap gap-1">
								{project.tags.map((tag) => (
									<span class="border border-black px-1 text-[8px] font-bold uppercase opacity-60 group-hover:opacity-100 dark:border-white">
										{tag}
									</span>
								))}
							</div>

							<h2 class="text-xl font-bold uppercase underline decoration-2 underline-offset-4">
								{project.title}
							</h2>

							<p class="flex-1 text-xs leading-relaxed opacity-80">{project.description}</p>

							<a
								href={project.link}
								target="_blank"
								class="mt-4 flex items-center justify-between text-[10px] font-black tracking-widest uppercase group-hover:underline"
							>
								<span>[{trans("showcase.view_project", {}, locale)}]</span>
								<span class="icon-[tabler--arrow-up-right] size-4" />
							</a>
						</div>
					</div>
				))
			}
		</div>

		<!-- Bottom Command Hint -->
		<div
			class="flex items-center justify-between border-t border-neutral-200 pt-4 text-[10px] font-bold tracking-widest text-neutral-500 uppercase dark:border-neutral-800"
		>
			<span>[F3] HELP</span>
			<span>TOTAL_ITEMS: {projects.length}</span>
			<span>STATUS: OK</span>
		</div>
	</section>
</AppLayout>
