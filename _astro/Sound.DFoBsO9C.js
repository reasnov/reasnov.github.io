class a{ctx=null;isMuted=!1;constructor(){typeof window<"u"&&(this.isMuted=localStorage.getItem("system-muted")==="true")}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext))}toggleMute(){return this.isMuted=!this.isMuted,localStorage.setItem("system-muted",this.isMuted.toString()),this.isMuted}getMuteState(){return this.isMuted}playBlip(){if(this.isMuted)return;this.init();const t=this.ctx.createOscillator(),e=this.ctx.createGain();t.type="sine",t.frequency.setValueAtTime(880,this.ctx.currentTime),e.gain.setValueAtTime(.05,this.ctx.currentTime),e.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.1),t.connect(e),e.connect(this.ctx.destination),t.start(),t.stop(this.ctx.currentTime+.1)}playClick(){if(this.isMuted)return;this.init();const t=this.ctx.createOscillator(),e=this.ctx.createGain();t.type="square",t.frequency.setValueAtTime(150,this.ctx.currentTime),e.gain.setValueAtTime(.1,this.ctx.currentTime),e.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.05),t.connect(e),e.connect(this.ctx.destination),t.start(),t.stop(this.ctx.currentTime+.05)}playLaser(){if(this.isMuted)return;this.init();const t=this.ctx.createOscillator(),e=this.ctx.createGain();t.type="sawtooth",t.frequency.setValueAtTime(1200,this.ctx.currentTime),t.frequency.exponentialRampToValueAtTime(100,this.ctx.currentTime+.2),e.gain.setValueAtTime(.1,this.ctx.currentTime),e.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.2),t.connect(e),e.connect(this.ctx.destination),t.start(),t.stop(this.ctx.currentTime+.2)}playExplosion(){if(this.isMuted)return;this.init();const t=this.ctx.sampleRate*.2,e=this.ctx.createBuffer(1,t,this.ctx.sampleRate),s=e.getChannelData(0);for(let c=0;c<t;c++)s[c]=Math.random()*2-1;const n=this.ctx.createBufferSource();n.buffer=e;const i=this.ctx.createGain();i.gain.setValueAtTime(.1,this.ctx.currentTime),i.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.2),n.connect(i),i.connect(this.ctx.destination),n.start()}playBoot(){if(this.isMuted)return;this.init(),[440,554.37,659.25,880].forEach((e,s)=>{const n=this.ctx.createOscillator(),i=this.ctx.createGain();n.type="triangle",n.frequency.setValueAtTime(e,this.ctx.currentTime+s*.1),i.gain.setValueAtTime(0,this.ctx.currentTime+s*.1),i.gain.linearRampToValueAtTime(.1,this.ctx.currentTime+s*.1+.05),i.gain.linearRampToValueAtTime(0,this.ctx.currentTime+s*.1+.15),n.connect(i),i.connect(this.ctx.destination),n.start(this.ctx.currentTime+s*.1),n.stop(this.ctx.currentTime+s*.1+.2)})}}const o=new a;export{o as s};
